<div *ngIf="succes" class="alert alert-success" role="alert">
    Cliente modificado exitosamente!
</div>

<div *ngIf="fail" class="alert alert-danger" role="alert">
    No se pudo editar el cliente!
</div>

<h4 class="title">Editar cliente</h4>
<hr>
<form (ngSubmit)="edit(form)" #form="ngForm">
  <div>
    <div class="form-group row">
        
      
      <div class="col-8">
        <label for="nombre" class="col-2 col-form-label">Nombre</label>
        <input class="form-control temp" type="text" 
               placeholder="nombre" 
               name="nombre" 
               [(ngModel)]="cliente.nombre"
               #nombre="ngModel"
               required>
        <div *ngIf="nombre.valid && nombre.touched" class="container main-container alert alert-info temp" role="alert">
          <h4>¡Bien hecho!</h4>
        </div>   
        <div *ngIf="nombre.errors?.['required'] && nombre.touched" class="alert alert-danger" role="alert">
          El nombre es requerido.
        </div>   


        <label for="email" class="col-2 col-form-label">Email</label>
        <input class="form-control temp" type="text" 
        placeholder="email" 
        name="email" 
        [(ngModel)]="cliente.email"
        #email="ngModel"
        required
        pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$">
        <div *ngIf="email.valid && email.touched" class="container main-container alert alert-info temp" role="alert">
        <h4>¡Bien hecho!</h4>
        </div>   
        <div *ngIf="email.errors?.['required'] && email.touched" class="alert alert-danger" role="alert">
        El email es requerido.
        </div>
        <div *ngIf="email.errors?.['pattern'] && email.touched" class="alert alert-danger" role="alert">
        El formato del email es incorrecto.
        </div>

        

        <label for="telefono" class="col-2 col-form-label">celular</label>
        <input class="form-control temp" type="text" 
        placeholder="teléfono" 
        name="telefono" 
        [(ngModel)]="cliente.telefono"
        #telefono="ngModel"
        required
        pattern="^\+57\d{10}$">
        <div *ngIf="telefono.valid && telefono.touched" class="container main-container alert alert-info temp" role="alert">
        <h4>¡Bien hecho!</h4>
        </div>   
        <div *ngIf="telefono.errors?.['required'] && telefono.touched" class="alert alert-danger" role="alert">
        El teléfono es requerido.
        </div>  
        <div *ngIf="telefono.errors?.['pattern'] && telefono.touched" class="alert alert-danger" role="alert">
        El teléfono debe tener el formato +57 seguido de 10 dígitos.
        </div>

        <label for="saldo" class="col-2 col-form-label">Saldo</label>
        <input class="form-control" 
                type="number" 
                placeholder="saldo" 
                name="saldo" 
                [(ngModel)]="cliente.saldo"
                #saldo="ngModel" 
                required
                min="0">
        <div *ngIf="saldo.errors?.['required'] && saldo.touched" class="alert alert-danger" role="alert">
            El saldo es requerido.
        </div>
        <div *ngIf="saldo.errors?.['min'] && saldo.touched" class="alert alert-danger" role="alert">
            El saldo debe ser mayor o igual a 0.
        </div>


        <label for="preferenciaNotificacion" class="col-2 col-form-label">Notificación</label>
        <div class="col-8">
          <select class="form-control" 
                  name="preferenciaNotificacion" 
                  [(ngModel)]="cliente.preferenciaNotificacion" 
                  #preferenciaNotificacion="ngModel" 
                  required>
            <option value="" disabled selected>Seleccione una opción</option>
            <option value="sms">SMS</option>
            <option value="email">Email</option>
          </select>
          <div *ngIf="preferenciaNotificacion.errors?.['required'] && preferenciaNotificacion.touched" class="alert alert-danger" role="alert">
            La preferencia de notificación es requerida.
          </div>
        </div>

      </div>
    </div>    
  </div>
  <div class="form-group row">
    <label class="col-2 col-form-label">&nbsp;</label>
    <div class="input-group col-md-8">
      <button [disabled]="!form.valid" type="submit" class="btn btn-outline-primary">
        Guardar
      </button>
    </div>
  </div>

</form>

